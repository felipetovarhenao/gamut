#:kivy 2.1.0

<Logo@BoxLayout>:
    orientation: 'vertical'
    size_hint_y: None
    height: self.minimum_height
    spacing: app.theme.spacing
    Image:
        source: 'data/images/logo.png'
        keep_ratio: True
        size_hint_y: None
        height: dp(120)
    TextLabel:
        padding_y: app.theme.pad(3)
        color: app.theme.colors.txt2
        text: "granular audio musaciking toolkit"
        italic: True
        bold: True

<Main>:
    console: console
    mosaic_module: mosaic_module
    corpus_module: corpus_module
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: 'vertical'
        padding: app.theme.pad(5)
        spacing: app.theme.spacing
        canvas.before:
            Color:
                rgba: app.theme.colors.bg1
            Rectangle:
                size: self.size
                pos: self.pos
        BoxLayout:
            BoxLayout:
                orientation: 'vertical'
                size_hint_x: 0.6
                Logo:
                Module:
                    size: root.size
                    pos: root.pos
                    ModuleHeader:
                        text: 'CONSOLE LOG'
                    ModuleContent:
                        orientation: 'vertical'
                        spacing: app.theme.spacing
                        ScrollView:
                            canvas.before:
                                Color:
                                    rgba: app.theme.colors.bg2
                                RoundedRectangle:
                                    size: self.size
                                    pos: self.pos
                                    radius: [15]
                            GridLayout:
                                id: console
                                cols: 1
                                orientation: 'tb-lr'
                                spacing: app.theme.spacing
                                size_hint_y: None
                                height: self.minimum_height
                        LargeButton:
                            text: "CLEAR"
                            on_release: console.clear_widgets()
            CorpusWidget:
                id: corpus_module
            MosaicWidget:
                id: mosaic_module
        BoxLayout:
            size_hint_y: None
            height: self.minimum_height
            padding: [app.theme.pad(), app.theme.pad()]
            TextLabel:
                text: "To learn more, visit www.felipe-tovar-henao.com/gamut/"
                font_size: app.theme.font.size('ms')